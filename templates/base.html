<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Fake Logo Detection{% endblock %}</title>

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    {% block extra_css %}{% endblock %}
  </head>

  <body>
    <!-- ðŸ”” Toast container -->
    <div id="toast-container"></div>

    <!-- Navbar -->
    <nav>
      <div class="logo">Fake Logo Detection</div>
      <div class="menu-icon" onclick="toggleMenu()">
        <i class="fas fa-bars"></i>
      </div>
      <ul id="menu">
        <li><a href="{{ url_for('home') }}">Home</a></li>
        <li><a href="{{ url_for('how_it_works') }}">How It Works</a></li>
        <li><a href="{{ url_for('admin_login') }}">Admin</a></li>
        <li><a href="{{ url_for('register') }}">Login/Register</a></li>
        <li><a href="{{ url_for('about') }}">About Us</a></li>
        <li><a href="{{ url_for('contact') }}">Contact</a></li>
      </ul>
    </nav>

    <!-- Dynamic content -->
    <main>{% block content %}{% endblock %}</main>

    <!-- Footer -->
    <footer>
      <p>Â© 2025 Fake Logo Detection. All Rights Reserved.</p>
    </footer>

    <!-- JS -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    <!-- ðŸ”” Global Flash Message Toast (auto dismiss) -->
    <script>
      function showToast(message, category) {
          const container = document.getElementById("toast-container");

          const toast = document.createElement("div");
          toast.className = "toast " + category;
          toast.textContent = message;

          container.appendChild(toast);

          setTimeout(() => {
              toast.classList.add("hide");
              setTimeout(() => toast.remove(), 500);
          }, 1800);
      }

      // Auto-show flash messages from Flask
      {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
              {% for category, message in messages %}
                  showToast("{{ message }}", "{{ category }}");
              {% endfor %}
          {% endif %}
      {% endwith %}
    </script>

    {% block extra_js %}{% endblock %}
  </body>
</html>
